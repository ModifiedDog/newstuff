<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Andy Grogan-Kaylor" />
  <title>Logistic Regression</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="https://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
   href="../UMslidy.css" />
  <script src="https://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>  
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Logistic Regression</h1>
  <p class="author">
Andy Grogan-Kaylor
  </p>
</div>
<div class="slide section level1">

<p>Andy Grogan-Kaylor</p>
<p>9 May 2020</p>
</div>
<div id="last-updated" class="slide section level1">
<h1>Last Updated</h1>
<pre class="stata"><code>. display &quot;$S_TIME  $S_DATE&quot;
17:40:45   9 May 2020</code></pre>
</div>
<div id="key-concepts-and-commands" class="slide section level1">
<h1>Key Concepts and Commands</h1>
<ul class="incremental">
<li>Fitting a Curve to 2 Possible Values</li>
</ul>
<p><img src="logistic.png" /></p>
<ul class="incremental">
<li><p>Linear models, probit and logit</p></li>
<li><p><code>y x1 x2 ...</code> <span class="math inline">\(\leftarrow\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(F(y) = \beta_0 + \beta x_1 + \beta x_2 ...\)</span></p></li>
<li><p><code>regress y x1 x2</code> OLS; Linear Model</p></li>
<li><p><code>logit y x1 x2</code> Logistic Regression</p></li>
<li><p><code>probit y x1 x2</code> Probit Regression</p></li>
<li><p><code>glm ...</code></p></li>
</ul>
</div>
<div id="limited-dependent-variables" class="slide section level1">
<h1>Limited Dependent Variables</h1>
<ul class="incremental">
<li>Categorical Dependent Variable</li>
<li>Binary Dependent Variable</li>
<li>Limited Dependent Variable</li>
</ul>
</div>
<div id="general-social-survey" class="slide section level1">
<h1>General Social Survey</h1>
<pre class="stata"><code>. use &quot;/Users/agrogan/Box Sync/DATA WAREHOUSE/General Social Survey Panel Data/GSS_panel2010w12
&gt; 3_R6 - stata.dta&quot;, clear 
( )</code></pre>
<pre class="stata"><code>. codebook happy_3 // what does this variable look like?

───────────────────────────────────────────────────────────────────────────────────────────────
happy_3                                                              happy_3: GENERAL HAPPINESS
───────────────────────────────────────────────────────────────────────────────────────────────

                  type:  numeric (byte)
                 label:  HAPPY_3

                 range:  [1,3]                        units:  1
         unique values:  3                        missing .:  0/2,044
       unique mv codes:  3                       missing .*:  742/2,044

            tabulation:  Freq.   Numeric  Label
                           391         1  VERY HAPPY
                           758         2  PRETTY HAPPY
                           153         3  NOT TOO HAPPY
                             1        .d  DK
                           740        .i  IAP
                             1        .n  NA</code></pre>
</div>
<div id="data-management" class="slide section level1">
<h1>Data Management</h1>
<pre class="stata"><code>. recode happy_3 (1/2 = 1)(3=0), generate(happy_3_D)
(911 differences between happy_3 and happy_3_D)</code></pre>
<pre class="stata"><code>. tabulate happy_3 happy_3_D // double check

              │   RECODE of happy_3
     happy_3: │   (happy_3: GENERAL
      GENERAL │      HAPPINESS)
    HAPPINESS │         0          1 │     Total
──────────────┼──────────────────────┼──────────
   VERY HAPPY │         0        391 │       391 
 PRETTY HAPPY │         0        758 │       758 
NOT TOO HAPPY │       153          0 │       153 
──────────────┼──────────────────────┼──────────
        Total │       153      1,149 │     1,302 </code></pre>
</div>
<div id="visualize" class="slide section level1">
<h1>Visualize</h1>
<pre class="stata"><code>. twoway scatter happy_3_D coninc_3, scheme(burd) jitter(5)</code></pre>
<pre class="stata"><code>. graph export happiness-income.png, width(500) replace
(file happiness-income.png written in PNG format)</code></pre>
<div class="figure">
<img src="happiness-income.png" alt="Happiness and Income" />
<p class="caption">Happiness and Income</p>
</div>
</div>
<div id="linear-probability-model" class="slide section level1">
<h1>Linear Probability Model</h1>
<pre class="stata"><code>. regress happy_3_D coninc_3

      Source │       SS           df       MS      Number of obs   =     1,223
─────────────┼──────────────────────────────────   F(1, 1221)      =     22.87
       Model │  2.26477708         1  2.26477708   Prob &gt; F        =    0.0000
    Residual │  120.937185     1,221  .099047654   R-squared       =    0.0184
─────────────┼──────────────────────────────────   Adj R-squared   =    0.0176
       Total │  123.201962     1,222  .100819936   Root MSE        =    .31472

─────────────┬────────────────────────────────────────────────────────────────
   happy_3_D │      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
─────────────┼────────────────────────────────────────────────────────────────
    coninc_3 │   9.69e-07   2.03e-07     4.78   0.000     5.72e-07    1.37e-06
       _cons │   .8368664   .0137133    61.03   0.000     .8099621    .8637706
─────────────┴────────────────────────────────────────────────────────────────</code></pre>
</div>
<div id="normal-and-cumulative-normal-distribution" class="slide section level1">
<h1>Normal and Cumulative Normal Distribution</h1>
<pre class="stata"><code>. clear all</code></pre>
<pre class="stata"><code>. set obs 100 // 100 observations
number of observations (_N) was 0, now 100</code></pre>
<pre class="stata"><code>. generate z = runiform(-5, 5) // randomly distributed z scores</code></pre>
<pre class="stata"><code>. generate mynormaldensities = normalden(z) // normal densities</code></pre>
<pre class="stata"><code>. generate myprobabilities = normal(z) // cumulative normal probabilities</code></pre>
<pre class="stata"><code>. twoway scatter mynormaldensities myprobabilities z, scheme(michigan)</code></pre>
<pre class="stata"><code>. graph export normal.png, width(500) replace
(file normal.png written in PNG format)</code></pre>
<div class="figure">
<img src="normal.png" alt="Standard and Cumulative Normal Curves" />
<p class="caption">Standard and Cumulative Normal Curves</p>
</div>
</div>
</body>
</html>
